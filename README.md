# dooshen-tasks mobile

## Overview
This project is the mobile app for a task management application, built with React Native and utilizing the Convex real-time database platform. It provides a set of functions for creating, reading, updating, and deleting tasks.

## Features
- [Convex](https://www.convex.dev/): Serves as the real-time database and backend execution environment.
- [TypeScript](https://www.typescriptlang.org/): Ensures type safety and improves code quality across the backend functions.

## Getting Started
### Installation
1.  **Clone the repository:**
    ```bash
    git clone https://github.com/Peliah/dooshen-tasks.git
    cd dooshen-tasks
    ```

2.  **Install dependencies:**
    ```bash
    npm install
    ```

3.  **Set up Convex:**
    Install the Convex CLI if you haven't already:
    ```bash
    npm install -g convex
    ```
    Log in to your Convex account:
    ```bash
    npx convex login
    ```

4.  **Run the development server:**
    This command starts the local development server for both the frontend and pushes backend changes to Convex.
    ```bash
    npx convex dev
    ```

### Environment Variables
Create a `.env.local` file in the root directory and add the following variables. These are typically generated for you when running `npx convex dev` for the first time.

-   `CONVEX_DEPLOYMENT`: The deployment identifier for your Convex project.
    `CONVEX_DEPLOYMENT=dev:your-deployment-name`
-   `EXPO_PUBLIC_CONVEX_URL`: The public URL for your Convex backend.
    `EXPO_PUBLIC_CONVEX_URL=https://your-project-name.convex.cloud`

## API Documentation
### Base URL
The base URL is determined by your Convex project deployment. Functions are called via the Convex client, not standard REST endpoints. The following documentation represents the available backend functions.

### Endpoints
#### QUERY tasks.get
**Description**: Fetches all tasks from the database.
**Request**:
No payload required.

**Response**:
```json
[
  {
    "_id": "j4p8wz7q9h6n2m5k",
    "_creationTime": 1678886400000,
    "title": "Finish the report",
    "description": "Complete the Q1 financial report.",
    "completed": false
  },
  {
    "_id": "k5q9x0r8y1f7d3c2",
    "_creationTime": 1678886500000,
    "title": "Buy groceries",
    "description": null,
    "completed": true
  }
]
```

**Errors**:
- None specified; returns an empty array if no tasks exist.

#### MUTATION tasks.create
**Description**: Creates a new task.
**Request**:
```json
{
  "title": "string",
  "description": "string (optional)",
  "completed": "boolean"
}
```
*Example:*
```json
{
  "title": "Schedule team meeting",
  "completed": false
}
```

**Response**:
The ID of the newly created task.
```json
"j4p8wz7q9h6n2m5k"
```

**Errors**:
- 400 Bad Request: If `title` or `completed` are missing or have the wrong type.

#### MUTATION tasks.update
**Description**: Updates an existing task by its ID.
**Request**:
```json
{
  "id": "Id<'tasks'>",
  "completed": "boolean (optional)",
  "title": "string (optional)",
  "description": "string (optional)"
}
```
*Example:*
```json
{
  "id": "j4p8wz7q9h6n2m5k",
  "completed": true
}
```

**Response**:
The updated task object.
```json
{
  "_id": "j4p8wz7q9h6n2m5k",
  "_creationTime": 1678886400000,
  "title": "Finish the report",
  "description": "Complete the Q1 financial report.",
  "completed": true
}
```

**Errors**:
- 400 Bad Request: If no updatable fields are provided.
- 404 Not Found: If the task `id` does not exist.

#### MUTATION tasks.deleteTask
**Description**: Deletes a specific task by its ID.
**Request**:
```json
{
  "id": "Id<'tasks'>"
}
```
*Example:*
```json
{
  "id": "j4p8wz7q9h6n2m5k"
}
```

**Response**:
A successful deletion does not return a body.

**Errors**:
- 404 Not Found: If the task `id` does not exist.

#### MUTATION tasks.clearCompleted
**Description**: Deletes all tasks that are marked as completed.
**Request**:
No payload required.

**Response**:
The number of tasks that were deleted.
```json
2
```

**Errors**:
- None specified; returns `0` if no completed tasks were found.

[![Readme was generated by Dokugen](https://img.shields.io/badge/Readme%20was%20generated%20by-Dokugen-brightgreen)](https://www.npmjs.com/package/dokugen)